#define MIDPOINT_8_BIT (127.0f / 255.0f)
#define MAX_FRACTIONAL_8_BIT (255.0f / 256.0f)

vec3 EncodeYcbcr(vec3 col)
{
	col = sqrt(col);
	vec3 encode;
	encode.x = dot(col.rgb, vec3(0.299, 0.587, 0114));
	encode.y = dot(col.rgb, vec3(-0.1687, -0.3312, 0.5) * MIDPOINT_8_BIT) + MIDPOINT_8_BIT;
	encode.z = dot(col.rgb, vec3(0.5, -0.4186, -0.0813) * MIDPOINT_8_BIT) + MIDPOINT_8_BIT;
	return encode;
}